zabbix_export:
  version: '5.4'
  date: '2024-02-23T18:04:53Z'
  groups:
    -
      uuid: 5a3b4210defe473da9627b2ca03e360c
      name: Templates/Mining
  templates:
    -
      uuid: 638a3f7f18ca4259b49ebe11ce5c5d06
      template: 'MicroBT WhatsMiner M3X'
      name: 'MicroBT WhatsMiner M3X'
      groups:
        -
          name: Templates/Mining
      items:
        -
          uuid: 67d83a2e5886427487701a98a2695f38
          name: 'CGMiner: get devdetails'
          type: EXTERNAL
          key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devdetails"]'
          delay: 20m
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: STR_REPLACE
              parameters:
                - '"'''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - '''"'
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - ''''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - 'False'
                - 'false'
            -
              type: STR_REPLACE
              parameters:
                - 'True'
                - 'true'
        -
          uuid: 3206f4307af24788ad5e3070ca5c9dda
          name: 'CGMiner: get devs'
          type: EXTERNAL
          key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: STR_REPLACE
              parameters:
                - '"'''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - '''"'
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - ''''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - 'False'
                - 'false'
            -
              type: STR_REPLACE
              parameters:
                - 'True'
                - 'true'
        -
          uuid: 75c2a0e4cfe0488080fe62e4954fa8dc
          name: 'CGMiner: get psu'
          type: EXTERNAL
          key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"get_psu"]'
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: STR_REPLACE
              parameters:
                - '"'''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - '''"'
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - ''''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - 'False'
                - 'false'
            -
              type: STR_REPLACE
              parameters:
                - 'True'
                - 'true'
        -
          uuid: bb24f7ae0d6e42faa862feff58cfb5df
          name: 'CGMiner: get status'
          type: EXTERNAL
          key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"status"]'
          delay: 10m
          history: '0'
          trends: '0'
          value_type: TEXT
          description: '{''STATUS'': ''S'', ''When'': 1645383083, ''Code'': 131, ''Msg'': {''btmineroff'': ''true'', ''Firmware Version'': "''20210520.22.REL''"}, ''Description'': ''whatsminer v1.4.0''}'
          preprocessing:
            -
              type: STR_REPLACE
              parameters:
                - '"'''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - '''"'
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - ''''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - 'False'
                - 'false'
            -
              type: STR_REPLACE
              parameters:
                - 'True'
                - 'true'
        -
          uuid: b4d5983fe2344669ade8168eee1e6d7c
          name: 'CGMiner: get summary'
          type: EXTERNAL
          key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
          delay: 3m
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: STR_REPLACE
              parameters:
                - '"'''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - '''"'
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - ''''
                - '"'
            -
              type: STR_REPLACE
              parameters:
                - 'False'
                - 'false'
            -
              type: STR_REPLACE
              parameters:
                - 'True'
                - 'true'
        -
          uuid: de078e1c77d1416eb4fe969dd068589e
          name: 'Device: Model'
          type: DEPENDENT
          key: cgminer.devdetails.model
          delay: '0'
          trends: '0'
          value_type: CHAR
          inventory_link: MODEL
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVDETAILS''][0][''Model'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devdetails"]'
          triggers:
            -
              uuid: 12ba3c6ae63a4fbea78f773261270ab4
              expression: '(left(last(/MicroBT WhatsMiner M3X/cgminer.devdetails.model),3)="M31" or left(last(/MicroBT WhatsMiner M3X/cgminer.devdetails.model),3)="M32")=0'
              name: 'Wrong template attached to Box'
              opdata: '{ITEM.LASTVALUE1}'
              priority: INFO
        -
          uuid: 30a9da7c78fa4b0d88f16c8c89bfda33
          name: 'CGMiner: ASC0: Chip Data'
          type: DEPENDENT
          key: cgminer.devs.asc0.chip.data
          delay: '0'
          history: 60d
          trends: '0'
          value_type: CHAR
          inventory_link: URL_A
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Chip Data'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 09d97f3b02484b009cf61eeed6e7368c
          name: 'CGMiner: ASC0: Chip Frequency'
          type: DEPENDENT
          key: cgminer.devs.asc0.chipfreq
          delay: '0'
          history: 60d
          units: MHz
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Chip Frequency'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 697bdf160925429687d63423fc7e1af3
          name: 'CGMiner: ASC0: Effective Chips'
          type: DEPENDENT
          key: cgminer.devs.asc0.chipsalive
          delay: '0'
          history: 30d
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Effective Chips'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 053a8397458d43198aa82d7a4fc52d47
          name: 'CGMiner: ASC0: Chip Temp Avg'
          type: DEPENDENT
          key: cgminer.devs.asc0.chiptempavg
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Chip Temp Avg'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: b418688837504970b963596071d6ddb1
          name: 'CGMiner: ASC0: Chip Temp Max'
          type: DEPENDENT
          key: cgminer.devs.asc0.chiptempmax
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Chip Temp Max'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 865a4c9328bb4ff29a77283a96f71916
          name: 'CGMiner: ASC0: Chip Temp Min'
          type: DEPENDENT
          key: cgminer.devs.asc0.chiptempmin
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Chip Temp Min'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 49eca910d0c444ac9d5d4d94c7fd3e9d
          name: 'CGMiner: ASC0: Hardware Errors'
          type: DEPENDENT
          key: cgminer.devs.asc0.hwerrors
          delay: '0'
          history: 60d
          status: DISABLED
          units: errors
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Hardware Errors'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 9146ac391cf74cb1a8a9f496080474e8
          name: 'CGMiner: ASC0: MHS average'
          type: DEPENDENT
          key: cgminer.devs.asc0.mhsav
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: MHS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''MHS av'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 6b327a5829474799a8bb693f547a2782
          name: 'CGMiner: ASC0: PCB serial'
          type: DEPENDENT
          key: cgminer.devs.asc0.pcbserial
          delay: '0'
          history: 60d
          trends: '0'
          value_type: TEXT
          inventory_link: SOFTWARE_APP_A
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''PCB SN'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 1a29c193aa9f4cd08a698dd34d921794
          name: 'CGMiner: ASC0: Status'
          type: DEPENDENT
          key: cgminer.devs.asc0.status
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Status'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 2h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 8e0ca2928dd44a67801afff362490748
          name: 'CGMiner: ASC0: Temperature'
          type: DEPENDENT
          key: cgminer.devs.asc0.temperature
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][0][''Temperature'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 78676e522a4c45d6b5b16c729f56722b
          name: 'CGMiner: ASC1: Chip Data'
          type: DEPENDENT
          key: cgminer.devs.asc1.chip.data
          delay: '0'
          history: 60d
          trends: '0'
          value_type: CHAR
          inventory_link: URL_B
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Chip Data'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 80c2b17f337c4591a1fb09c5601bc913
          name: 'CGMiner: ASC1: Chip Frequency'
          type: DEPENDENT
          key: cgminer.devs.asc1.chipfreq
          delay: '0'
          history: 60d
          units: MHz
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Chip Frequency'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: af8ae0087d134d529437b882d7000180
          name: 'CGMiner: ASC1: Effective Chips'
          type: DEPENDENT
          key: cgminer.devs.asc1.chipsalive
          delay: '0'
          history: 30d
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Effective Chips'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 169af4592d5c41cf9773d08b1439a8a5
          name: 'CGMiner: ASC1: Chip Temp Avg'
          type: DEPENDENT
          key: cgminer.devs.asc1.chiptempavg
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Chip Temp Avg'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 367c47a38de74edd9ffeaa5f440e8b93
          name: 'CGMiner: ASC1: Chip Temp Max'
          type: DEPENDENT
          key: cgminer.devs.asc1.chiptempmax
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Chip Temp Max'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 8c9d8bf48c7b4af8b48fe49747cecd84
          name: 'CGMiner: ASC1: Chip Temp Min'
          type: DEPENDENT
          key: cgminer.devs.asc1.chiptempmin
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Chip Temp Min'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 4f5a873f285f433b92208bcba3ce0f06
          name: 'CGMiner: ASC1: Hardware Errors'
          type: DEPENDENT
          key: cgminer.devs.asc1.hwerrors
          delay: '0'
          history: 60d
          status: DISABLED
          units: errors
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Hardware Errors'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 06bdff7e1e124921b508687d3fc4adb6
          name: 'CGMiner: ASC1: MHS average'
          type: DEPENDENT
          key: cgminer.devs.asc1.mhsav
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: MHS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''MHS av'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 51383b6d2c5c42dea8c160dea4dcaa43
          name: 'CGMiner: ASC1: PCB serial'
          type: DEPENDENT
          key: cgminer.devs.asc1.pcbserial
          delay: '0'
          history: 60d
          trends: '0'
          value_type: TEXT
          inventory_link: SOFTWARE_APP_B
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''PCB SN'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: b512a1e7f4f04273bf0fc41ae2e8d94c
          name: 'CGMiner: ASC1: Status'
          type: DEPENDENT
          key: cgminer.devs.asc1.status
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Status'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 2h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 44c63e36453c4fcb9f3e30b4b7357466
          name: 'CGMiner: ASC1: Temperature'
          type: DEPENDENT
          key: cgminer.devs.asc1.temperature
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][1][''Temperature'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 327ec45d48a54fde95f593c2bc4b0752
          name: 'CGMiner: ASC2: Chip Data'
          type: DEPENDENT
          key: cgminer.devs.asc2.chip.data
          delay: '0'
          history: 60d
          trends: '0'
          value_type: CHAR
          inventory_link: URL_C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Chip Data'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: ae4eae76aa824b129f44c7fcf2d65dab
          name: 'CGMiner: ASC2: Chip Frequency'
          type: DEPENDENT
          key: cgminer.devs.asc2.chipfreq
          delay: '0'
          history: 60d
          units: MHz
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Chip Frequency'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 5eb47fd44f0e41ceb6f8574e2086c7fb
          name: 'CGMiner: ASC2: Effective Chips'
          type: DEPENDENT
          key: cgminer.devs.asc2.chipsalive
          delay: '0'
          history: 30d
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Effective Chips'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 83f2409ff02e461bb9b29b0f4da7c3ff
          name: 'CGMiner: ASC2: Chip Temp Avg'
          type: DEPENDENT
          key: cgminer.devs.asc2.chiptempavg
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Chip Temp Avg'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 51a9951e5f6d41e998226e30beb661e1
          name: 'CGMiner: ASC2: Chip Temp Max'
          type: DEPENDENT
          key: cgminer.devs.asc2.chiptempmax
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Chip Temp Max'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 811b045f61de4e47b280a7be75f353f0
          name: 'CGMiner: ASC2: Chip Temp Min'
          type: DEPENDENT
          key: cgminer.devs.asc2.chiptempmin
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Chip Temp Min'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 72f63abacab4424bb4d8486785c032af
          name: 'CGMiner: ASC2: Hardware Errors'
          type: DEPENDENT
          key: cgminer.devs.asc2.hwerrors
          delay: '0'
          history: 60d
          status: DISABLED
          units: errors
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Hardware Errors'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 3bbf1055240c4a7b8a5b067e142eac71
          name: 'CGMiner: ASC2: MHS average'
          type: DEPENDENT
          key: cgminer.devs.asc2.mhsav
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: MHS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''MHS av'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: cf207c7981004d0195a7b8fb50bea24d
          name: 'CGMiner: ASC2: PCB serial'
          type: DEPENDENT
          key: cgminer.devs.asc2.pcbserial
          delay: '0'
          history: 60d
          trends: '0'
          value_type: TEXT
          inventory_link: SOFTWARE_APP_C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''PCB SN'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: bfbfa8be5f6543c9a6b578590e2d6b02
          name: 'CGMiner: ASC2: Status'
          type: DEPENDENT
          key: cgminer.devs.asc2.status
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Status'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 2h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: af58441fb6064e84b8e3664fc269df81
          name: 'CGMiner: ASC2: Temperature'
          type: DEPENDENT
          key: cgminer.devs.asc2.temperature
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''DEVS''][2][''Temperature'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"devs"]'
        -
          uuid: 947dda82ee1f4bf4b720ebab0d43649b
          name: 'CGMiner: PSU Model'
          type: DEPENDENT
          key: cgminer.psu.model
          delay: '0'
          trends: '0'
          value_type: CHAR
          inventory_link: CHASSIS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''Msg''][''model'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 24h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"get_psu"]'
        -
          uuid: 306d81068c1640c585d3a13e940b9a4f
          name: 'CGMiner: Firmware Version'
          type: DEPENDENT
          key: cgminer.status.fwversion
          delay: '0'
          history: 60d
          trends: '0'
          value_type: CHAR
          inventory_link: SOFTWARE
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''Msg''][''Firmware Version'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"status"]'
          triggers:
            -
              uuid: ce2a5875501e41bc8f32088d0e34a447
              expression: 'last(/MicroBT WhatsMiner M3X/cgminer.status.fwversion,#1)<>last(/MicroBT WhatsMiner M3X/cgminer.status.fwversion,#2)'
              name: 'Firmware has changed'
              opdata: '{ITEM.LASTVALUE1}'
              priority: INFO
              manual_close: 'YES'
        -
          uuid: 7b15bc3a8fd3497191736578dd28ab82
          name: 'CGMiner: CB Platform'
          type: DEPENDENT
          key: cgminer.summary.cb.platform
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          inventory_link: HARDWARE
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''CB Platform'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: f5956d60e12c49a28dff45663548bd52
          name: 'CGMiner: CB Version'
          type: DEPENDENT
          key: cgminer.summary.cb.version
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          inventory_link: HARDWARE_FULL
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''CB Version'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: dbdccdb5b3f24589966015e2f51a740b
          name: 'CGMiner: Chip Temp Avg'
          type: DEPENDENT
          key: cgminer.summary.chiptempavg
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Chip Temp Avg'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 5d4af7ad8fda426194c3b70f594de7e3
          name: 'CGMiner: Chip Temp Max'
          type: DEPENDENT
          key: cgminer.summary.chiptempmax
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Chip Temp Max'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 17bc49e56b8c49a59ab30e71801ade72
          name: 'CGMiner: Chip Temp Min'
          type: DEPENDENT
          key: cgminer.summary.chiptempmin
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Chip Temp Min'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 19e586d22d0e4b6a822979b9b03da3cd
          name: 'CGMiner: Worktime'
          type: DEPENDENT
          key: cgminer.summary.elapsed
          delay: '0'
          units: s
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Elapsed'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
          triggers:
            -
              uuid: 4d7979379b694823818f42b1215f0e27
              expression: 'last(/MicroBT WhatsMiner M3X/cgminer.summary.elapsed)<1800'
              name: 'CGMiner restarted'
              opdata: 'elapsed time: {ITEM.LASTVALUE} sec'
              priority: WARNING
        -
          uuid: e84e406245ce4a97b35d88847def9c4a
          name: 'CGMiner: Environment Temperature'
          type: DEPENDENT
          key: cgminer.summary.env.temp
          delay: '0'
          value_type: FLOAT
          units: C
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Env Temp'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: aca43c44276e426cb6cd4faaf6633d48
          name: 'CGMiner: Error Code Count'
          type: DEPENDENT
          key: cgminer.summary.error.count
          delay: '0'
          history: 30d
          units: errors
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Error Code Count'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
          triggers:
            -
              uuid: 64ae4caa91034c64819b3ef1acdc1d20
              expression: 'last(/MicroBT WhatsMiner M3X/cgminer.summary.error.count)>0'
              name: 'Error code found'
              opdata: '{ITEM.LASTVALUE1}'
              priority: AVERAGE
        -
          uuid: 0e9d0e14e5304568b13cc2d5e4374cc6
          name: 'CGMiner: Fan Speed In'
          type: DEPENDENT
          key: cgminer.summary.fanspeedin
          delay: '0'
          history: 60d
          units: rpm
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Fan Speed In'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: c7b58e111f18424e8c2f6600f539aefc
          name: 'CGMiner: Fan Speed Out'
          type: DEPENDENT
          key: cgminer.summary.fanspeedout
          delay: '0'
          history: 60d
          units: rpm
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Fan Speed Out'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 0f18a755e68c40fba1d48f01e97ee745
          name: 'CGMiner: Fan Speed Power'
          type: DEPENDENT
          key: cgminer.summary.fanspeedpower
          delay: '0'
          history: 60d
          units: rpm
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''Msg''][''fan_speed'']'
            -
              type: MULTIPLIER
              parameters:
                - '0.5'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"get_psu"]'
        -
          uuid: ab8112bf9d1a4fed89b7185ce8364506
          name: 'CGMiner: Average Frequency'
          type: DEPENDENT
          key: cgminer.summary.freq_avg
          delay: '0'
          history: 60d
          units: MHz
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''freq_avg'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 34ee0d5d2f6f474db95983c067b30e5b
          name: 'CGMiner: Factory GHS'
          type: DEPENDENT
          key: cgminer.summary.ghsfactory
          delay: '0'
          history: 60d
          units: GHS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Factory GHS'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 8h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 67a2a3da80924e51a00df2917ac41bd9
          name: 'CGMiner: Hash Stable Cost Seconds'
          type: DEPENDENT
          key: cgminer.summary.hash.stable.cost.sec
          delay: '0'
          history: 60d
          units: sec
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Hash Stable Cost Seconds'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: cacd33c7a37544a4bc49b64a42258bed
          name: 'CGMiner: Hardware Errors'
          type: DEPENDENT
          key: cgminer.summary.hwerrors
          delay: '0'
          history: 60d
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Hardware Errors'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: ba8ee54f56784c5697caa40e627a030c
          name: 'CGMiner: MAC Address'
          type: DEPENDENT
          key: cgminer.summary.macad
          delay: '0'
          trends: '0'
          value_type: CHAR
          inventory_link: MACADDRESS_A
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''MAC'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 2e528248e3e3452abcc8ca900299adbd
          name: 'CGMiner: MHS average'
          type: DEPENDENT
          key: cgminer.summary.mhsav
          delay: '0'
          history: 60d
          value_type: FLOAT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''MHS av'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 1c82ce540fe145ff9ed6385d4cde5db0
          name: 'CGMiner: Power'
          type: DEPENDENT
          key: cgminer.summary.power
          delay: '0'
          history: 60d
          units: W
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Power'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 9cb1126d32de4f2280a18b0c88c55267
          name: 'CGMiner: Power Current Input'
          type: DEPENDENT
          key: cgminer.summary.power.current.input
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: A
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''Msg''][''iin'']'
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"get_psu"]'
        -
          uuid: ec413f6251fe489191a80ab9bfcfd1f9
          name: 'CGMiner: Power Voltage Input'
          type: DEPENDENT
          key: cgminer.summary.power.voltage.input
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: V
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''Msg''][''vin'']'
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"get_psu"]'
        -
          uuid: 0797fd47ce5d42bbad24e83a8c9ccdb2
          name: 'CGMiner: Power Current'
          type: DEPENDENT
          key: cgminer.summary.powercurrent
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: A
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Power Current'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: aee1d86116c84c1a919fcf875ff4691a
          name: 'CGMiner: Software Name'
          type: DEPENDENT
          key: cgminer.summary.software
          delay: '0'
          history: 30d
          trends: '0'
          value_type: CHAR
          inventory_link: OS
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''STATUS''][0][''Description'']'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: 1180fcf8ea9f41239de73c0da3e1f4b5
          name: 'CGMiner: Temperature'
          type: DEPENDENT
          key: cgminer.summary.temperature
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: Celsius
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Temperature'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
          triggers:
            -
              uuid: c2757da16e87452bba28201e11c2573a
              expression: 'last(/MicroBT WhatsMiner M3X/cgminer.summary.temperature)>=83'
              name: 'Miner overheated'
              opdata: 'temp is: {ITEM.LASTVALUE1}'
              priority: AVERAGE
        -
          uuid: c0aadc6878124834aeced258f53864da
          name: 'CGMiner: Uptime'
          type: DEPENDENT
          key: cgminer.summary.uptime
          delay: '0'
          units: s
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Uptime'']'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
          triggers:
            -
              uuid: 22dc8a45818d4d03860974b275e99c3a
              expression: 'last(/MicroBT WhatsMiner M3X/cgminer.summary.uptime)<600'
              name: 'Box rebooted'
              opdata: 'uptime: {ITEM.LASTVALUE}'
              priority: AVERAGE
        -
          uuid: 4dc452783a2c42fb8a9ebfee9fa1aff1
          name: 'CGMiner: Voltage'
          type: DEPENDENT
          key: cgminer.summary.voltage
          delay: '0'
          history: 60d
          value_type: FLOAT
          units: V
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[''SUMMARY''][0][''Voltage'']'
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          master_item:
            key: 'cgminer-setkeh.py[{HOST.CONN},{$CGM_PORT},"summary"]'
        -
          uuid: f0c3f46401c14ca6a4187cd58d3e9a5f
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          history: 1w
          valuemap:
            name: 'Service state'
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: 9a1ea04fae274f899fbe9bb37e355a1d
              expression: 'max(/MicroBT WhatsMiner M3X/icmpping,#3)=0'
              name: 'Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout.'
        -
          uuid: d79aba12575b4ff989b3bd6083ff8e4f
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: 93f00a17f1cb4433a7e8349682774106
              expression: 'min(/MicroBT WhatsMiner M3X/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/MicroBT WhatsMiner M3X/icmppingloss,5m)<100'
              name: 'High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                -
                  name: 'Unavailable by ICMP ping'
                  expression: 'max(/MicroBT WhatsMiner M3X/icmpping,#3)=0'
        -
          uuid: 8510b9494f164bbead8949227d0fdeae
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          history: 1w
          value_type: FLOAT
          units: s
          tags:
            -
              tag: Application
              value: Status
          triggers:
            -
              uuid: 746de177faca45179236288aa52acef2
              expression: 'avg(/MicroBT WhatsMiner M3X/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                -
                  name: 'High ICMP ping loss'
                  expression: 'min(/MicroBT WhatsMiner M3X/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/MicroBT WhatsMiner M3X/icmppingloss,5m)<100'
                -
                  name: 'Unavailable by ICMP ping'
                  expression: 'max(/MicroBT WhatsMiner M3X/icmpping,#3)=0'
      macros:
        -
          macro: '{$CGM_PORT}'
          value: '4028'
          description: 'CGMiner API port'
        -
          macro: '{$ICMP_LOSS_WARN}'
          value: '20'
        -
          macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
        -
          macro: '{$MHASH}'
          value: '50000000'
          description: 'average speed, MH (TH*1000*1000)'
      valuemaps:
        -
          uuid: 21ae64005d274935a143da6cdd75e7f5
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
  triggers:
    -
      uuid: 176824bd166047ff9355e0fe9f053369
      expression: 'max(/MicroBT WhatsMiner M3X/cgminer.summary.fanspeedin,#3)<100 or max(/MicroBT WhatsMiner M3X/cgminer.summary.fanspeedout,#3)<100 or max(/MicroBT WhatsMiner M3X/cgminer.summary.fanspeedpower,#3)<100'
      name: 'Fan is off'
      opdata: 'in {ITEM.LASTVALUE1}, out {ITEM.LASTVALUE2}, power {ITEM.LASTVALUE3}'
      priority: HIGH
    -
      uuid: 500438975df844a2bcc4d13126c91613
      expression: 'avg(/MicroBT WhatsMiner M3X/cgminer.summary.fanspeedin,30m)>6800 or avg(/MicroBT WhatsMiner M3X/cgminer.summary.fanspeedout,30m)>6800'
      name: 'Fan speed too high'
      opdata: 'in {ITEM.LASTVALUE1}, out {ITEM.LASTVALUE2}'
      priority: WARNING
      description: 'обороты выше 6800 rpm'
    -
      uuid: a38d7043350b4b1f820cd555212fceb8
      expression: 'last(/MicroBT WhatsMiner M3X/cgminer.summary.mhsav)<{$MHASH} and last(/MicroBT WhatsMiner M3X/cgminer.summary.elapsed)>2000'
      name: 'Hashrate too low'
      opdata: '{ITEM.LASTVALUE1}'
      priority: AVERAGE
      description: 'сравниваем текущий хэшрейт с условным при условии аптайма выше 32 минут (обычно асик выходит на расчетную мощность в районе 20-30 минут)'
  graphs:
    -
      uuid: 2cb362585782440cbac44d75235b3c14
      name: 'CGMiner: Chip Frequencies'
      graph_items:
        -
          sortorder: '1'
          color: 80CBC4
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc0.chipfreq
        -
          sortorder: '2'
          color: 43A047
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc1.chipfreq
        -
          sortorder: '3'
          color: '615911'
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc2.chipfreq
    -
      uuid: 8af969b8d4f24a249c5b74d3906cbaeb
      name: 'CGMiner: Fan Speeds'
      height: '300'
      graph_items:
        -
          sortorder: '1'
          color: 1A7C11
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.fanspeedpower
        -
          sortorder: '2'
          color: 5C6BC0
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.fanspeedin
        -
          sortorder: '3'
          color: FFC107
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.fanspeedout
    -
      uuid: b6a0d63afbf6457fa7726d50910c87c9
      name: 'CGMiner: GHS average'
      graph_items:
        -
          sortorder: '1'
          color: 1A7C11
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.mhsav
    -
      uuid: 9eb8b6801f574cb3a9c35a48c7bddb52
      name: 'CGMiner: Hardware Errors'
      graph_items:
        -
          sortorder: '1'
          color: EF9A9A
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc0.hwerrors
        -
          sortorder: '2'
          color: C2185B
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc1.hwerrors
        -
          sortorder: '3'
          color: FF5722
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.devs.asc2.hwerrors
    -
      uuid: 129c3262a2084807a4ff0de909c8e8aa
      name: 'CGMiner: Temperatures'
      height: '300'
      graph_items:
        -
          sortorder: '1'
          color: 1A7C11
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.chiptempmin
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.chiptempmax
        -
          sortorder: '3'
          color: 2774A4
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.chiptempavg
        -
          sortorder: '4'
          drawtype: BOLD_LINE
          color: A54F10
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.temperature
        -
          sortorder: '5'
          drawtype: BOLD_LINE
          color: FC6EA3
          item:
            host: 'MicroBT WhatsMiner M3X'
            key: cgminer.summary.env.temp
